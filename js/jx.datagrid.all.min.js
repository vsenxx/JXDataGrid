///<jscompress sourcefile="jx.Class.js" />
var jx=jx||{};jx.Class=function(){};(function(){var a=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;jx.Class.extend=function(c){function b(){!initializing&&this.init&&this.init.apply(this,arguments)}var e=this.prototype;initializing=!0;var f=new this;initializing=!1;for(var d in c)f[d]="function"==typeof c[d]&&"function"==typeof e[d]&&a.test(c[d])?function(a,c){return function(){var b=this._super;this._super=e[a];var d=c.apply(this,arguments);this._super=b;return d}}(d,c[d]):c[d];b.prototype=f;b.prototype.constructor=b;b.extend=arguments.callee;return b};jx.Base=jx.Class.extend({isEmpty:function(a){if("undefined"!=a&&void 0!=a&&null!=a){if("string"==$.type(a))return!(a&&""!=a&&void 0!=a&&null!=a&&0<a.length);if("array"==$.type(a))return!(a&&void 0!=a&&null!=a&&0<a.length);if("object"==$.type(a))return $.isEmptyObject(a);if("function"==$.type(a))return!1}return!0}})})();jx.DataGrid_Toolbar_Item=jx.Base.extend({_parent:null,_itemData:null,_selfElement:null,init:function(a){this._itemData=a.data||null;this._selfElement=$("\x3cdiv class\x3d'btn-group'\x3e\x3c/div\x3e")},render:function(a){this.clear();if(this.isEmpty(this._itemData.element)){var c=$("\x3cbutton class\x3d'btn btn-success'\x3e\x3c/button\x3e").text(this._itemData.title);this._selfElement.append(c)}else this._selfElement.append(this._itemData.element);if(this.isEmpty(a))return this._selfElement;$(a).append(this._selfElement)},clear:function(){this._selfElement.empty()},jump:function(a,c){"_blank"==c?window.open(a):window.location.href=a},renderAfter:function(){this.bindEvent()},bindEvent:function(){var a=this;if(this.isEmpty(this._itemData.element))if(this.isEmpty(this._itemData.callback))this._selfElement.find("\x3ebutton").eq(0).on("click",function(){if(a.isEmpty(a._itemData.url))return!1;if(a.isEmpty(a._itemData.message))a.jump(a._itemData.url,a._itemData.target);else if(confirm(a._itemData.message))a.jump(a._itemData.url,a._itemData.target);else return!1});else this._selfElement.find("\x3ebutton").eq(0).on("click",this._itemData.callback)}});jx.DataGrid_Toolbar=jx.Base.extend({_parent:null,_selfElement:null,_toolBarItemsDatas:null,_toolItems:null,init:function(a){this._parent=a.parent||null;this._toolBarItemsDatas=a.ItemsDatas||null;this._selfElement=$("\x3cdiv class\x3d'jx-DataGrid-tollbar'\x3e\x3cdiv class\x3d'jx-DataGrid-tollbar-station'\x3e\x3c/div\x3e\x3c/div\x3e");this.initItem()},initItem:function(){if(!this.isEmpty(this._toolBarItemsDatas)){this._toolItems=[];for(var a in this._toolBarItemsDatas){var c=new jx.DataGrid_Toolbar_Item({data:this._toolBarItemsDatas[a]});this._toolItems.push(c)}}},render:function(a){this.clear();for(var c in this._toolItems)this._selfElement.find(".jx-DataGrid-tollbar-station").append(this._toolItems[c].render());if(this.isEmpty(a))return this._selfElement;$(a).append(this._selfElement)},clear:function(){this._selfElement.find(".jx-DataGrid-tollbar-station").empty()},renderAfter:function(){for(var a in this._toolItems)this._selfElement.find(".jx-DataGrid-tollbar-station").append(this._toolItems[a].renderAfter())}});jx.DataGrid=jx.Base.extend({title:"",_selfElement:null,_element:null,toolBarItems:null,_toolBar:null,init:function(a){this._element={};this.title=a.title||"";this._element.parent=a.parent||null;this._selfElement=$('\x3cdiv class\x3d"panel panel-default jx-DataGrid-box"\x3e\x3cdiv class\x3d"panel-heading"\x3e\x3c/div\x3e\x3cdiv class\x3d"panel-body"\x3e\x3c/div\x3e\x3c/div\x3e');this._toolBar=new jx.DataGrid_Toolbar({parent:this,ItemsDatas:a.toolBar});this._table=new jx.DataGrid_Table({thead:a.thead,cellData:a.datas,custompanel:a.custompanel});this.render()},render:function(){this.clear();this._selfElement.find("\x3e.panel-heading").text(this.title);this._selfElement.find("\x3e.panel-body").eq(0).append(this._toolBar.render());this._selfElement.find("\x3e.panel-body").eq(0).append(this._table.render());this._element.parent.append(this._selfElement);this.renderAfter()},clear:function(){this._selfElement.find("\x3e.panel-heading").empty();this._selfElement.find("\x3e.panel-body").empty()},renderAfter:function(){this._toolBar.renderAfter();this._table.renderAfter()}});jx.DataGrid_Table_Thead_Filter=jx.Base.extend({_filterData:null,_key:null,init:function(a){this._filterData=a.data||null;this._key=a.key||null;if(this.isEmpty(this._filterData))return this;if("string"==$.type(this._filterData))"text"==this._filterData&&(this._selfElement=$('\x3cinput class\x3d"form-control" \x3e').attr("name",this._key));else if(this._filterData instanceof jQuery)this._selfElement=this._filterData;else if(this._filterData instanceof HTMLElement)this._selfElement=this._filterData;else if("object"==$.type(this._filterData)&&$.isPlainObject(this._filterData))if("select"==this._filterData.classname){this._selfElement=$('\x3cselect class\x3d"form-control" \x3e').attr("name",this._key);for(var c in this._filterData.options)this._selfElement.append($("\x3coption\x3e\x3c/option\x3e").text(this._filterData.options[c].text).val(this._filterData.options[c].value))}else if("daterangepicker"==this._filterData.classname||"datepicker"==this._filterData.classname){this._selfElement=$('\x3cinput class\x3d"form-control" \x3e').attr("name",this._key);if(!$.fn.daterangepicker)return this;a={opens:"left",format:"YYYY-MM-DD",singleDatePicker:"datepicker"==this._filterData.classname?!0:!1,locale:{applyLabel:"\u786e\u5b9a",cancelLabel:"\u53d6\u6d88",fromLabel:"\u8d77\u59cb\u65f6\u95f4",toLabel:"\u7ed3\u675f\u65f6\u95f4'",weekLabel:"W",daysOfWeek:"\u65e5\u4e00\u4e8c\u4e09\u56db\u4e94\u516d".split(""),monthNames:"\u4e00\u6708 \u4e8c\u6708 \u4e09\u6708 \u56db\u6708 \u4e94\u6708 \u516d\u6708 \u4e03\u6708 \u516b\u6708 \u4e5d\u6708 \u5341\u6708 \u5341\u4e00\u6708 \u5341\u4e8c\u6708".split(" "),firstDay:1}};$(this._selfElement).daterangepicker(a)}else"searchselect"==this._filterData.classname&&(this._selfElement=$('\x3cselect class\x3d"form-control" style\x3d"width:100%;"\x3e\x3c/select\x3e').attr("name",this._key))},render:function(a){this.clear();if(this.isEmpty(a))return this._selfElement;$(a).append(this._selfElement)},renderAfter:function(){if(!this.isEmpty(this._filterData.classname)&&"searchselect"==this._filterData.classname){if(!$.fn.select2)return this;this._selfElement.select2({ajax:{url:this._filterData.url,type:"post",cache:!0,dataType:"json",data:function(a){return{name:a.term,page:a.page}},delay:200}})}},clear:function(){}});jx.DataGrid_Table=jx.Base.extend({_thead:null,_tbody:null,_custompanel:null,init:function(a){this._selfElement=$('\x3ctable class\x3d"table table-bordered table-hover"\x3e\x3c/table\x3e');this._custompanel=a.custompanel||null;this.initThead(a);this.initTbody(a)},initThead:function(a){this._thead={Element:$("\x3cthead\x3e\x3ctr\x3e\x3c/tr\x3e\x3c/thead\x3e"),datas:a.thead||null,theads:[]};if(this.isEmpty(this._thead.datas))return!1;this._thead.theads.push({element:$('\x3ctd style\x3d"width:2%"\x3e#\x3c/td\x3e')});this.isEmpty(this._custompanel)||"function"!=$.type(this._custompanel)||this._thead.theads.push({element:$('\x3ctd style\x3d"width:2%"\x3e\x3ci class\x3d"glyphicon glyphicon-triangle-right custompanel-launcher"\x3e\x3c/i\x3e\x3c/td\x3e')});for(var c in this._thead.datas){var b=this._thead.datas[c];a=$('\x3ctd\x3e\x3cdiv class\x3d"form-group"\x3e\x3clabel for\x3d""\x3e\u6807\u9898\x3c/label\x3e\x3c/div\x3e\x3c/td\x3e');a.attr("key",b.key);!0!==b.primary&&"true"!=b.primary||a.attr("primary",!0);this.isEmpty(b.width)||a.css({width:b.width});a.find("label").text(b.title);b=new jx.DataGrid_Table_Thead_Filter({key:b.key,data:b.filter});this._thead.theads.push({element:a,filter:b})}},initTbody:function(a){this._tbody={Element:$("\x3ctbody\x3e\x3c/tbody\x3e"),datas:a.cellData||null}},renderThead:function(){for(var a in this._thead.theads)this._thead.theads[a].filter&&this._thead.theads[a].element.find("\x3e.form-group").eq(0).append(this._thead.theads[a].filter.render()),this._thead.Element.find("tr").eq(0).append(this._thead.theads[a].element);this._selfElement.append(this._thead.Element)},renderTbody:function(){if(this.isEmpty(this._tbody.datas)||this.isEmpty(this._thead.datas))return!1;for(var a=0;a<this._tbody.datas.length;a++){var c=this._tbody.datas[a],b=$("\x3ctr\x3e\x3ctd\x3e"+(a+1)+"\x3c/td\x3e\x3c/tr\x3e");this.isEmpty(this._custompanel)||"function"!=$.type(this._custompanel)||b.append($('\x3ctd\x3e\x3ci class\x3d"glyphicon glyphicon-triangle-right custompanel-launcher"\x3e\x3c/i\x3e\x3c/td\x3e'));for(var e in this._thead.datas){var f=$("\x3ctd\x3e"+c[this._thead.datas[e].key]+"\x3c/td\x3e");!0!==this._thead.datas[e].primary&&"true"!=this._thead.datas[e].primary||f.attr("primary",!0);b.append(f)}this._tbody.Element.append(b);this.isEmpty(this._custompanel)||"function"!=$.type(this._custompanel)||(b=$("\x3ctr style\x3d'display: none;' class\x3d'custompanel'\x3e\x3c/tr\x3e"),b.append(this._custompanel(this._thead.datas,c)),this._tbody.Element.append(b))}this._selfElement.append(this._tbody.Element);this.bindEvent()},render:function(a){this.clear();this.renderThead();this.renderTbody();if(this.isEmpty(a))return this._selfElement;$(a).append(this._selfElement)},bindEvent:function(){var a=this;this._tbody.Element.find(".custompanel-launcher").on("click",function(){a._tbody.Element.find(".custompanel:visible").hide();a._tbody.Element.find(".custompanel-launcher").removeClass("glyphicon-triangle-bottom").addClass("glyphicon-triangle-right");$(this).removeClass("glyphicon-triangle-right").addClass("glyphicon-triangle-bottom");$(this).closest("tr").next().show(1E3)})},clear:function(){},renderAfter:function(){for(var a in this._thead.theads)this._thead.theads[a].filter&&this._thead.theads[a].filter.renderAfter()}});